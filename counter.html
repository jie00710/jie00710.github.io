<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>共享計數器</title>
    <style>
        body {
            font-family: sans-serif;
            text-align: center;
        }
        #counter-display {
            font-size: 2em;
            margin: 20px;
        }
        button {
            padding: 10px 20px;
            margin: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>共享計數器</h1>
    <div id="counter-display">載入中...</div>
    <button id="increment-btn">增加</button>
    <button id="decrement-btn">減少</button>
    <button id="reset-btn">重置</button>

    <script>
        const counterDisplay = document.getElementById('counter-display');
        const incrementBtn = document.getElementById('increment-btn');
        const decrementBtn = document.getElementById('decrement-btn');
        const resetBtn = document.getElementById('reset-btn');
        const DATA_URL = 'https://raw.githubusercontent.com/YOUR_GITHUB_USERNAME/my-shared-counter/main/counter.json'; // 替換成您的 GitHub 資訊

        let currentCount = 0;

        // 從 GitHub 讀取計數值
        async function fetchCount() {
            try {
                const response = await fetch(DATA_URL);
                const data = await response.json();
                currentCount = data.count;
                counterDisplay.textContent = currentCount;
            } catch (error) {
                console.error("無法載入計數值:", error);
                counterDisplay.textContent = '載入失敗';
            }
        }

        // 模擬更新計數值 (這個範例不會直接寫回 GitHub)
        function updateDisplay() {
            counterDisplay.textContent = currentCount;
        }

        incrementBtn.addEventListener('click', () => {
            currentCount++;
            updateDisplay();
            console.log("新的計數值 (尚未寫回 GitHub):", currentCount);
            alert("計數值已在本地更新。要讓其他使用者看到，您需要手動更新 GitHub 上的 counter.json 檔案。");
            // 在實際應用中，您需要呼叫一個後端服務或 GitHub API 來更新 counter.json
        });

        decrementBtn.addEventListener('click', () => {
            currentCount--;
            updateDisplay();
            console.log("新的計數值 (尚未寫回 GitHub):", currentCount);
            alert("計數值已在本地更新。要讓其他使用者看到，您需要手動更新 GitHub 上的 counter.json 檔案。");
            // 在實際應用中，您需要呼叫一個後端服務或 GitHub API 來更新 counter.json
        });

        resetBtn.addEventListener('click', () => {
            currentCount = 0;
            updateDisplay();
            console.log("新的計數值 (尚未寫回 GitHub):", currentCount);
            alert("計數值已在本地更新。要讓其他使用者看到，您需要手動更新 GitHub 上的 counter.json 檔案。");
            // 在實際應用中，您需要呼叫一個後端服務或 GitHub API 來更新 counter.json
        });

        // 頁面載入時獲取初始計數值
        fetchCount();
    </script>
</body>
</html>
